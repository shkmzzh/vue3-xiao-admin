import{d as b,r as m,o as h,L as x,e as y,f as V,a2 as r,w as l,h as s,ap as F,aq as w,a0 as P,m as c,ar as $,aa as A,ab as I}from"./index-89c23a70.js";import{E as R,a as z,b as B}from"./el-input-2b29115f.js";import{E as Z}from"./el-button-9b8727b0.js";import{_ as q}from"./_plugin-vue_export-helper-c27b6911.js";const C=p=>(A("data-v-40ff3f56"),p=p(),I(),p),L={class:"register-form"},U=C(()=>c("span",{class:"text"},"已经有账号? ",-1)),N=b({__name:"registerform",emits:["changeForm"],setup(p,{emit:f}){const o=m({username:"",password:"",checkPass:""}),k=m({username:[{required:!0,message:"请输入用户名",trigger:"blur"},{pattern:/^[a-zA-Z0-9_]{2,10}$/,message:"用户名应为2-10个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{pattern:/^(?![0-9]+$)(?![a-z]+$)(?![A-Z]+$)(?!([^(0-9a-zA-Z)]|[()])+$)(?!^.*[\u4E00-\u9FA5].*$)([^(0-9a-zA-Z)]|[()]|[a-z]|[A-Z]|[0-9]){8,18}$/,message:"密码格式应为8-18位数字、字母、符号的任意两种组合",trigger:"blur"}],checkPass:[{required:!0,message:"请再次输入密码",trigger:"blur"},{validator:(t,e,a)=>{e!==o.value.password?a(new Error("两次输入的密码不一致")):a()}}]}),d=m(),_=async t=>{t&&await t.validate(async(e,a)=>{if(e){const{checkPass:u,...i}=o.value;await $(i),f("changeForm",!0)}else console.log("error submit!",a)})};function v(){f("changeForm",!0)}function g({code:t}){t==="Enter"&&_(d.value)}return h(()=>{window.document.addEventListener("keypress",g)}),x(()=>{window.document.removeEventListener("keypress",g)}),(t,e)=>{const a=R,u=z,i=Z,E=B;return y(),V("div",L,[r(E,{ref_key:"ruleFormRef",ref:d,model:s(o),rules:s(k)},{default:l(()=>[r(u,{prop:"username"},{default:l(()=>[r(a,{"prefix-icon":s(F),placeholder:"用户名",clearable:"",modelValue:s(o).username,"onUpdate:modelValue":e[0]||(e[0]=n=>s(o).username=n)},null,8,["prefix-icon","modelValue"])]),_:1}),r(u,{prop:"password"},{default:l(()=>[r(a,{"prefix-icon":s(w),placeholder:"密码",clearable:"",type:"password","show-password":"",modelValue:s(o).password,"onUpdate:modelValue":e[1]||(e[1]=n=>s(o).password=n)},null,8,["prefix-icon","modelValue"])]),_:1}),r(u,{prop:"checkPass"},{default:l(()=>[r(a,{"prefix-icon":s(w),placeholder:"确认密码",clearable:"",type:"password","show-password":"",modelValue:s(o).checkPass,"onUpdate:modelValue":e[2]||(e[2]=n=>s(o).checkPass=n)},null,8,["prefix-icon","modelValue"])]),_:1}),r(u,null,{default:l(()=>[r(i,{type:"primary",onClick:e[3]||(e[3]=n=>_(s(d)))},{default:l(()=>[P("注册")]),_:1})]),_:1})]),_:1},8,["model","rules"]),c("div",{class:"sub-link"},[U,c("span",{class:"to-login",onClick:v},"去登录")])])}}});const j=q(N,[["__scopeId","data-v-40ff3f56"]]);export{j as default};
